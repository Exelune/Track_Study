# 한 주 동안 새로 배운 개념 정리
Light의 기초 개념, VFX Graph(비주얼 이펙트 그래프)

<br>

## 시작 시간
<img width="2557" height="1439" alt="image" src="https://github.com/user-attachments/assets/730217ff-a61e-4ddd-8889-d3d5509c839a" />
오전 3시 23분

<br>

## Light
Light는 씬에서 밝히거나 그림자를 구현하는 등 광원의 기능을 구현하는 기능이다.

### Directional Light (방향 광원)
- 기본적으로 씬에 들어가있는 조명이다.
- 태양처럼 무한히 멀리 떨어져있는 광원이다.
- 한 방향으로 들어오며 씬 전체를 고르게 비춰준다.
- 광도가 거리에 따라 약해지지 않는다.

### Point Light (점 광원)
- 광원을 기준으로 한 점에서 정해진 거리와 모든 방향으로 균등하게 빛을 내보낸다.
- 광도가 거리에 따라서 약해진다.

### Spot Light (스폿 광원)
- 광원을 기준으로 정해진 거리와 각도에 따라 빛을 내보낸다.
- 원뿔모양의 영역으로 빛이 발산되며, 가장자리로 갈수록 광도가 약해진다.
- 각도를 넓히면 원뿔의 너비가 증가하여 퍼지는 범위는 커지지만, 빛의 밀도가 낮아진다.

### Area Light (면 광원)
- 넓은 면에서 빛을 내보낸다.
- Real-time은 지원하지 않고 Bake를 해서 사용한다.(성능을 많이 먹음)
- 오브젝트를 여러 방면에서 동시에 비추기에 더욱 현실적이다.

### 계산방식
- Real-time : 매 프레임 계산하여 실시간으로 빛을 보여준다. (비용이 큼)
- Baked : 움직이지 않는 배경을 미리 계산하여 저장하여 보여준다. (성능은 좋지만 실시간으로 움직이지는 않음)
- Mixed : 위의 두 방식을 섞어서 사용하는 방식이다. 주로 특정 부분만 베이크 되고 일부 부분은 실시간으로 처리한다.

<br>

## 결론
Light는 유니티 내에서 빛이나 그림자, 분위기 등등 광원이 필요한 경우에 쓰이는 조명 기능이며 게임의 밝기나 분위기를 조절할때 사용할수 있다.

광원을 사용하여 플레이어의 경험에 영향을 줄수 있고, 여러 계산방식을 사용하여 성능 최적화를 할수 있다.

<br>

## 활용법
기초적인 낮/밤 부터 횃불, 손전등, 분위기 등 빛이나 그림자가 관여했을 때 영향을 줄수 있는 상황에서는 전부 사용할수 있다.

다만 성능을 생각해야하기에 계산 방식을 잘 조절 해야할것 같다.

<br>

## VFX Graph(비주얼 이펙트 그래프)
<img width="640" height="360" alt="image" src="https://github.com/user-attachments/assets/60385eea-67d9-49a7-98e6-9d4ffa0cf646" />


VFX Graph는 파티클들을 GPU연산으로 처리하여 더 퍼포먼스가 좋은 파티클시스템이라 생각하면 된다.

노드 기반 시스템으로 사용하여 코드나 인스펙터를 건드리지 않고 만들수 있다.

필요할 경우 다양한 블럭이나 노드 추가하여 여러 기능을 추가할수 있다.

<br>

## 기본 구조

<img width="565" height="550" alt="image" src="https://github.com/user-attachments/assets/440b8f94-fc31-4e6a-8d18-b5f8f2f3d8a5" />


### Spawn (스폰)
- 파티클을 얼마나 생성할지 정하는 노드이다.
- 간단하게 얼마나 나올지 정할수도 있고, 다른 블럭을 추가하여 생성 조건을 추가할수도 있다.

### Initialize (초기화)
- 파티클의 초기 상태를 지정하는 노드이다.
- 파티클들의 초기 최대값, 속도, 크기, 위치 등 초기 속성을 설정해준다.

### Update (업데이트)
- 파티클이 살아있는 동안 매 프레임마다 변화할 부분을 정하는 노드이다.
- 우선은 비어있는 노드이지만 우리가 원하는 블럭을 추가하여 여러 변화를 넣어줄수 있다.

### OutPut (출력)
- 파티클이 어떤식으로 보일지 정해주는 노드이다. (렌더링)

<br>

## VFX Graph의 장점
- 화려하거나 많은 양의 파티클이 필요할 경우에 잘 어울린다.
- 다양하고 복잡한 연출을 할수 있다.
- 파티클 시스템처럼 CPU 기반이 아닌 GPU 기반이라 성능이 좋다.
- 노드 기반 시스템이라 접근하기 쉽다.
- 셰이더 그래프가 통합되어 있어서 커스텀 셰이더를 사용할수 있으며, 효과를 실시간으로 자연스럽게 커스터마이징 해줄 수 있어서 유연성이 좋다.

## VFX Graph의 단점
- 노드 기반 시스템이라 접근성이 좋지만 완전 처음에 접근하기는 어렵다.
- 빌트인에서는 지원을 하지 않으며 URP/HDRP에서 사용할수 있다.
- 정교하거나 복잡한 물리적 상호작용은 좀 어렵다.
- 간단한 효과를 만들 때는 파티클 시스템이 더 낫다.
- 저사양 기기에서는 최적화가 되지 않아 성능 부담이 있다.

<br>

## 결론
VFX Graph는 GPU 기반으로 여러 화려한 VFX를 만들 수 있는 기능이며 노드 기반 시스템이라 접근하기 쉽고 복잡한 기능을 구현할때도 어렵지 않게 구현할수 있다.

하지만 URP/HDRP에서만 사용할 수 있으며 정교한 물리적 상호작용은 힘들며 사양이 안좋은 기기일 경우 부담이 있다.

간단한 효과를 만들때는 파티클 시스템을 사용하고 여러 복잡한 효과를 연출할때는 VFX Graph를 사용하는것이 좋다.

<br>

## 활용법
보스의 연출이나 패턴 같이 웅장한 느낌의 연출을 해야할때 사용할 수 있을것 같다.

마법진이나 수많은 화려한 VFX가 필요할때 사용하면서 사용법을 더 익혀가면 내가 원하는 멋진 VFX들을 만들어서 사용할수 있을것 같다.

<br>

## 끝난 시간
<img width="2559" height="1439" alt="image" src="https://github.com/user-attachments/assets/c11fa875-122b-4d20-9faf-91796bbd9ed9" />
오전 5시 34분

총 시간 : 2시간 11분
